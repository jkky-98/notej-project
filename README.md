# notej-project

# 목차
- [개발 환경](#개발-환경)
- [사용 기술](#사용-기술)
    * [백엔드](#백엔드)
    * [프론트엔드](#프론트엔드)
    * [데이터베이스](#데이터베이스)
    * [인프라](#인프라)
    * [기타 라이브러리](#기타-라이브러리)
- [핵심 키워드](#핵심-키워드)
- [시스템 아키텍처](#시스템-아키텍처)
- [E-R Diagram](#e-r-diagram)
- [프로젝트 목적](#프로젝트-목적)
    * [기획 의도](#기획-의도)
- [핵심 기능 Before 릴리즈](#핵심-기능-before-릴리즈)
    * [게시글 CRUD](#게시글-crud)
    * [마크다운 작성을 위한 Toast Ui Editor 적용](#마크다운-작성을-위한-toast-ui-editor-적용)
    * [태그 및 키워드 검색 기능](#태그-및-키워드-검색-기능)
    * [작성 자동저장 가눙](#작성-자동저장-기능)
    * [알림 기능](#알림-기능)
    * [좋아요 및 팔로우 기능](#좋아요-및-팔로우-기능)
    * [무한 스크롤 페이징 기능](#무한-스크롤-페이징-기능)
    * [자바8 스트림 람다 문법 도입](자바8-스트림-람다-문법-도입)
## 개발 환경
- IntelliJ
- GitHub

## 사용 기술
### 백엔드
#### 주요 프레임워크 / 라이브러리
- Java 17 openjdk
- SpringBoot 3.4.0
- Spring Data JPA
- QueryDSL

#### 빌드 Tool
- Gradle

#### 프론트엔드
- Javascript
- Html/css
- Thymeleaf
- BootStrap5

#### 데이터베이스
- H2(dev)
- Mysql(prod)

#### 인프라
- AWS EC2
- AWS S3
- GitHub Actions
- Docker
- AWS RDS

### 기타 라이브러리
- Lombok
- Toast Ui Editor

## 핵심 키워드
- 스프링 부트를 사용하여 웹 애플리케이션 설계 ~ 배포 유지 보수까지 전 과정 개발 및 운영
- AWS / ubuntu 기반 Github action을 활용한 무중단 배포 및 배포 자동화 구축
- MVC 프레임워크 기반 백엔드 서버 구축

## 시스템 아키텍처
None

### 패키징 구조 예시

## E-R Diagram

## 프로젝트 목적

### 기획 의도

## 핵심 기능 Before 릴리즈

### 게시글 CRUD

### 마크다운 작성을 위한 Toast Ui Editor 적용
개발자 블로그답게 게시글을 마크다운으로 작성할 수 있도록 **`Toast Ui Editor`** 오픈 소스를 사용했습니다. 
![image](https://github.com/user-attachments/assets/84553641-c871-4c0e-9ab8-a5d21c33b109)
글 작성시 첨부하는 이미지와 게시글의 썸네일 이미지의 경우에는 S3에 저장되도록 하였습니다.(사진파일 저장의 생명주기를 관리하여 저장부하를 줄이도록 하였습니다.)

작성시 js async를 사용하여 비동기적으로 blob사진을 업로드 컨트롤러에 보내어 즉각적으로 저장하고 저장된 파일명을 받아 다시 다운로드 컨트롤러로 하여금 Viewer에 해당 사진을 랜더링하도록
구현하였습니다.

### 태그 및 키워드 검색 기능

### 작성 자동저장 기능

### 알림 기능

### 좋아요 및 팔로우 기능

### 무한 스크롤 페이징 기능

### 댓글, 대댓글 기능

### 자바8 스트림 람다 문법 도입
스트림, 람다를 학습하여 이를 프로젝트에 적용하였습니다. 적용하지 않은 코드가 존재하는데 이는 가독성을 기준으로 개발자 본인의 판단하에 결정하였습니다.

### 사진 저장 생명주기 최적화
기존 Editor 작업에서 사진을 첨부할 때, 즉각적으로 저장소에 업로드 되어 실제 저장시 해당 사진들을 사용하지 않을 경우 저장소에 쓰지 않는 사진들이 쌓이는 경우가 발생하였습니다. 
이를 S3 객체 태그를 이용한 생명주기 관리를 통해 실제 게시글 저장 시점에 content에서 쓰이는 사진 객체에 대해 영속화 태그를 부착하고, 작성 시점 업로드된 태그에는 임시태그를 부착했습니다. 
태그의 상태관리는 PostFile이라는 엔티티를 통해 관리하여 수정시 새로운 영속화 태그를 부착하거나 기존 영속화 태그를 임시태그로 변환하는 등의 작업이 가능했습니다.

#### 수정 전 아키텍처
![prev_image](https://github.com/user-attachments/assets/6a20b1b4-cafc-4d91-92e8-7c3037799450)
#### 수정 후 아키텍처
![after_image](https://github.com/user-attachments/assets/9f7d8472-90a5-4b2d-a8dd-f3c744ea8b0b)
#### 관련 작성글
https://velog.io/@aal2525/Toast-Editor-%EC%82%AC%EC%A7%84-%EC%A0%80%EC%9E%A5-%EC%B5%9C%EC%A0%81%ED%99%94


