<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<div th:fragment="seriesComponent">
    <div class="container mt-4" th:object="${postsViewDto}">
        <div class="row row-cols-1 row-cols-md-2 g-4 d-flex justify-content-center" th:if="${sessionUser != null and sessionUser.username == username}">
            <form th:action="@{'/@' + ${username} + '/posts/series'}" th:object="${saveSeriesForm}" method="post">
                <div class="input-group mb-3">
                    <input type="text" name="seriesName" th:field="*{seriesName}" class="form-control" placeholder="ÏÉùÏÑ±Ìï† ÏãúÎ¶¨Ï¶àÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî." aria-label="ÏÉùÏÑ±Ìï† ÏãúÎ¶¨Ï¶àÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî." aria-describedby="button-addon2">
                    <button class="btn btn-primary" type="submit" id="button-addon2">ÏãúÎ¶¨Ï¶à ÏÉùÏÑ±</button>
                </div>

                <!-- ÏóêÎü¨ Î©îÏãúÏßÄ Ï∂úÎ†• -->
                <div class="text-danger mb-2" th:if="${#fields.hasErrors('seriesName')}" th:errors="*{seriesName}"}></div>
            </form>
        </div>
        <div class="row row-cols-1 row-cols-md-2 g-4">
            <!-- Ïπ¥Îìú ÏàúÌöå -->
            <div class="col" th:each="series : *{seriesList}">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title" th:text="${series.seriesName}">Series Title</h5>
                    </div>
                    <div class="card-footer text-end">
                        <small style="color: black;" th:text="@{${series.count} + 'Í∞úÏùò Ìè¨Ïä§Ìä∏'}"></small>
                        <small class="text-muted"
                               th:if="${series.lastUpdateDt != null}"
                               th:text="@{' . ÏµúÍ∑º ÏàòÏ†ïÏùº: ' + ${#temporals.format(series.lastUpdateDt, 'yyyy-MM-dd')} }">
                        </small>
                        <small class="text-muted" th:unless="${series.lastUpdateDt != null}"> . ÏµúÍ∑º ÏàòÏ†ïÏùº: </small>
                        <a th:href="@{'/@' + ${username} + '/posts'(seriesName=${series.seriesName})}" class="btn btn-primary btn-sm">View</a>

                        <!-- üî• ÏÇ≠Ï†ú Î≤ÑÌäº (sessionUserÍ∞Ä Î°úÍ∑∏Ïù∏ÌñàÍ≥†, sessionUser.usernameÏù¥ usernameÍ≥º Í∞ôÏùÑ ÎïåÎßå Î†åÎçîÎßÅ) -->
                        <form th:if="${sessionUser != null and sessionUser.username == username}"
                              th:action="@{'/@' + ${username} + '/posts/series/delete'}"
                              method="post"
                              class="d-inline">
                            <input type="hidden" name="seriesName" th:value="${series.seriesName}">
                            <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå? ÏãúÎ¶¨Ï¶àÎ•º ÏÇ≠Ï†úÌï† Í≤ΩÏö∞ ÏãúÎ¶¨Ï¶à ÎÇ¥Ïùò Î™®Îì† Í≤åÏãúÍ∏ÄÏù¥ ÏÇ≠Ï†úÎê©ÎãàÎã§.');">
                                ÏÇ≠Ï†ú
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>